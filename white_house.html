<html>
  <head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-system@1.4.0/dist/aframe-physics-system.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@^3.1.1/dist/aframe-template-component.min.js"></script> 
    <script src="js/follow.js"></script>
  </head>
  <body>
    
    <a-scene physics="friction:0.2; restitution:0.2; debug:false"
             renderer="antialias:true"
             raycaster="far: 100; objects: [link];" 
             cursor="rayOrigin: mouse" 
             camera-position>
      
    <a-assets>
      <a-asset-item 
           id="player" 
           src="objects/playerWalk.gltf"></a-asset-item>
      <a-asset-item 
           id="monster" 
           src="/objects/player1.gltf"></a-asset-item>
      <a-asset-item 
           id="wavebow3a" 
           src="https://cdn.glitch.com/9baeb756-4dfe-40ae-a61f-52b72510282b%2Fwavebow3a.gltf?v=1603659461253"></a-asset-item>
      <a-asset-item
           id="wavebow-l17" 
           src="https://cdn.glitch.com/9baeb756-4dfe-40ae-a61f-52b72510282b%2Fwavebow-lesson17.gltf?v=1603716845062"></a-asset-item>
      <img id="nightsky"
           src="https://cdn.glitch.com/9baeb756-4dfe-40ae-a61f-52b72510282b%2Fnightsky.png?v=1603277760890">
      <img id="colorful"
           src="texture/brick-color.png">
      <a-mixin id="woodencube"
               geometry="primitive: box" 
               material="color: #FDFEFE"
               follow="target:#avbox; url:gameover.html; speed:1; dist:5"></a-mixin>
               
    </a-assets>
    <a-link href="blue_house.html"
      link-controls
      title="white house" 
      position="-35.3 1 -39.16"></a-link>

      <a-plane position="0 0 -4" rotation="-90 0 0" width="80" height="80" 
        material="src:#colorful; repeat: 80 80"
        static-body></a-plane>
      
      <a-sky src="#nightsky"></a-sky>
      
      
      <!-- fence -->
      <a-entity 
        id="wall-L"
        mixin="woodencube" 
        position="40 3 -4" 
        rotation="0 90 0"
        scale="80 10 0.1"></a-entity>
      <a-entity 
        id="wall-R"
        mixin="woodencube" 
        position="-40 3 -4" 
        rotation="0 90 0"
        scale="80 10 0.1"></a-entity>
      <a-entity 
        id="wall-F"
        mixin="woodencube" 
        position="0 3 36" 
        rotation="0 0 0"
        scale="80 10 0.1"></a-entity>
      <a-entity 
        id="wall-B"
        mixin="woodencube" 
        position="0 3 -44" 
        rotation="0 0 0"
        scale="80 10 0.1"></a-entity>


      <!-- walls -->

      <!-- - -->
      <a-entity 
        mixin="woodencube"
        position="34.83 3 22.5"
        scale="10 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="27.490 3 4.645"
        scale="10 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="35.036 3 -1.066"
        scale="10 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="27.490 3 -7.964"
        scale="10 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="34.934 3 -15.017"
        scale="10 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="27.490 3 -22.843"
        scale="10 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="35.041 3 --31.217"
        scale="10 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="26.172 3 -36.455" 
        rotation="0 0 0"
        scale="19.433 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="19.637 3 -17.135" 
        rotation="0 0 0"
        scale="6.444 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="14.776 3 -4.230" 
        rotation="0 0 0"
        scale="15.570 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="9.273 3 2.935" 
        rotation="0 0 0"
        scale="15.499 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="-7.994 3 27.384" 
        rotation="0 0 0"
        scale="19.583 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="-17.722 3 -36.061" 
        rotation="0 0 0"
        scale="19.583 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="-27.061 3 -0.565" 
        rotation="0 0 0"
        scale="11.066 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="-27.061 3 -0.565" 
        rotation="0 0 0"
        scale="11.066 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="-27.061 3 -0.565" 
        rotation="0 0 0"
        scale="11.066 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="-31.959 3 11.220" 
        rotation="0 0 0"
        scale="16.443 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="-24.788 3 21.135" 
        rotation="0 0 0"
        scale="14.955 10 0.1"></a-entity>
      
      <!-- | -->
      <a-entity 
        mixin="woodencube" 
        position="27 3 22.6" 
        rotation="0 90 0"
        scale="27 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="22.625 3 -2.325" 
        rotation="0 90 0"
        scale="60 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="16.424 3 -26.781" 
        rotation="0 90 0"
        scale="20 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="6.970 3 -24.262" 
        rotation="0 90 0"
        scale="40.179 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="1.677 3 -5.459" 
        rotation="0 90 0"
        scale="65.578 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="-7.851 3 -11.351" 
        rotation="0 90 0"
        scale="65.578 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="-17.571 3 3.179" 
        rotation="0 90 0"
        scale="65.578 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="11.522 3 22.413" 
        rotation="0 90 0"
        scale="27.316 10 0.1"></a-entity>
      <a-entity 
        mixin="woodencube" 
        position="-27.597 3 -18.404" 
        rotation="0 90 0"
        scale="35.932 10 0.1"></a-entity>
      
      <a-entity 
        position="34 0 25"
        gltf-model="#monster"
        animation-mixer="clip: run"
        rotation="0 90 0"
        scale="0.1 0.1 0.1"
        follow="target:#avbox; url:gameover.html; speed:1.8; dist:150"></a-entity >
      <a-entity 
        position="15.935 1 25.684"
        gltf-model="#monster"
        animation-mixer="clip: run"
        rotation="0 90 0"
        scale="0.1 0.1 0.1"
        follow="target:#avbox; url:gameover.html; speed:2; dist:150"></a-entity >
      <a-entity 
        position="24.778 0 27.855"
        gltf-model="#monster"
        animation-mixer="clip: run"
        rotation="0 90 0"
        scale="0.1 0.1 0.1"
        follow="target:#avbox; url:gameover.html; speed:4; dist:10"></a-entity >
      <a-entity 
        position="24.778 0 -2.166"
        gltf-model="#monster"
        animation-mixer="clip: run"
        rotation="0 90 0"
        scale="0.1 0.1 0.1"
        follow="target:#avbox; url:gameover.html; speed:2.5; dist:150"></a-entity >
      
      <!-- <a-entity position="15.935 1 25.684" 
        color="mediumseagreen"
        follow="target:#avatar; url:gameover.html; speed:1.5; dist:150"></a-entity > -->

      <!--  AVATAR with Camera and movement controls -->
      <a-entity 
          id="avbox"
          movement-controls="fly:false"
          link-controls
          position="34 1 35">
        <a-entity camera look-controls="pointerLockEnabled:True" position="0 -0.5 -2">
          <a-entity id="hud"
              text="width:3; value: Don't touch the wall and ?; color: red"
              position="0 1.5 -2"
          ></a-entity>
          <a-entity
            id="avatar"
            static-body
            gltf-model="#player"
            animation-mixer="clip: walk"
            position="0 -0.5 -2"
            rotation="0 0 0"
            scale="0.1 0.1 0.1"></a-entity>
        </a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>